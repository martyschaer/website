RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^\.]+)$ $1.php [NE,L]
ErrorDocument 404 /404.php
ErrorDocument 500 /500.php


# thanks to @severinkaderli for the code below

<IfModule mod_deflate.c>
	<FilesMatch "\\.(js|css|html|htm|php|xml|woff|woff2|eot|ttf|json)$">
		SetOutputFilter DEFLATE
	</FilesMatch>
</IfModule>

<IfModule mod_expires.c>
 ExpiresActive On

 # Images
	ExpiresByType image/jpg "access 1 year"
	ExpiresByType image/jpeg "access 1 year"
	ExpiresByType image/gif "access 1 year"
	ExpiresByType image/png "access 1 year"
	ExpiresByType image/x-icon "access 1 year"
	ExpiresByType image/svg+xml "access 1 year"

	# Fonts
	ExpiresByType application/font-woff "access 1 month"
	ExpiresByType application/x-font-woff "access 1 month"
	ExpiresByType font/woff "access 1 month"
	ExpiresByType font/woff2 "access 1 month"

	# CSS
	ExpiresByType text/css "access 1 month"

	# Disable caching for service workers
	<FilesMatch "sw\\.js$">
		ExpiresActive On
		ExpiresDefault "access 1 second"
	</FilesMatch>

	<FilesMatch "[^(sw)]\\.js$">
		ExpiresActive On
		ExpiresDefault "access 1 month"
	</FilesMatch>

	# PDF
	ExpiresByType application/pdf "access 1 month"

	# Text
	ExpiresByType text/html "access 1 second"
</IfModule>